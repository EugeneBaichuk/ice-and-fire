{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0412\\u0438\\u043A\\u0442\\u043E\\u0440\\u0438\\u044F\\\\Desktop\\\\\\u0416\\u0435\\u043D\\u044F Work\\\\ice-and-fire-hooks\\\\src\\\\characters\\\\characters-f.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from \"react\";\nimport { Button, ButtonGroup, ListGroup } from \"react-bootstrap\";\nimport { useCharters } from \"./charters.hooks\";\nimport useCharacter from \"./use-character\";\nimport CharterModal from \"./character.modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CharactersF = () => {\n  _s();\n\n  const {\n    error,\n    loading,\n    characters,\n    filter,\n    handlerPage\n  } = useCharters({\n    initPage: 1,\n    initPageSize: 5\n  });\n  const handleModalMemorized = useCallback(type => () => {\n    setModalIsVisible(type);\n    if (!type) setCharacterUrl(null);\n  }, [characterUrl]);\n  const {\n    character,\n    loadingCharacter,\n    errorCharacter,\n    handlerClickCharacter\n  } = useCharacter(handleModalMemorized); // const [character, setCharacter] = useState<null | Character>(null)\n  // const [loadingCharacter, setLoadingCharacter] = useState<boolean>(false)\n  // const [errorCharacter, setErrorCharacter] = useState<boolean>(false)\n  // const handlerClickCharacter = (url: string) => {\n  //   return async() => {\n  //     setLoadingCharacter(true)\n  //     try {\n  //       const res = await IceandfireApi.getCharterInfo(url)\n  //       setCharacter(res)\n  //       handleModalMemorized(true)()\n  //     } catch (e) {\n  //       setErrorCharacter(true)\n  //     } finally {\n  //       setLoadingCharacter(false)\n  //     }\n  //   }\n  // }  \n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"characters\",\n    children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n      children: [error && \"Error\", loading && \"Loading\", characters && !error && !loading && characters.map(el => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        as: \"li\",\n        onClick: handlerClickCharacter(el.url),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"title\",\n          children: el.name || el.aliases\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"prop\",\n          children: [\"Gender: \", el.gender]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }, this)]\n      }, el.url, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), characters && !error && /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      className: \"books-nav\",\n      \"aria-label\": \"Basic example\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        disabled: filter.page === 1,\n        onClick: handlerPage(\"left\"),\n        children: \"left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handlerPage(\"right\"),\n        children: \"right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(CharterModal, {\n      character: character,\n      loading: loadingCharacter,\n      error: errorCharacter,\n      characterUrl: characterUrl,\n      modalIsVisible: modalIsVisible,\n      handleModal: handleModalMemorized\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CharactersF, \"uYKiBZ/N0tXW9ZQyHwWXl85el44=\", false, function () {\n  return [useCharters, useCharacter];\n});\n\n_c = CharactersF;\nexport default CharactersF;\n\nvar _c;\n\n$RefreshReg$(_c, \"CharactersF\");","map":{"version":3,"names":["React","useCallback","Button","ButtonGroup","ListGroup","useCharters","useCharacter","CharterModal","CharactersF","error","loading","characters","filter","handlerPage","initPage","initPageSize","handleModalMemorized","type","setModalIsVisible","setCharacterUrl","characterUrl","character","loadingCharacter","errorCharacter","handlerClickCharacter","map","el","url","name","aliases","gender","page","modalIsVisible"],"sources":["C:/Users/Виктория/Desktop/Женя Work/ice-and-fire-hooks/src/characters/characters-f.tsx"],"sourcesContent":["import { Character } from \"../types/type\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport IceandfireApi from \"../services/iceandfire\";\nimport { Button, ButtonGroup, ListGroup, Modal } from \"react-bootstrap\";\nimport {useCharters} from \"./charters.hooks\";\nimport useCharacter from \"./use-character\";\nimport CharterModal from \"./character.modal\";\n\n\n\nconst CharactersF = () => {\n  const {\n    error, loading, characters, filter, handlerPage\n  } = useCharters({initPage: 1, initPageSize: 5});\n\n  const handleModalMemorized = useCallback((type: boolean) => () => {\n    setModalIsVisible(type)\n    if (!type) setCharacterUrl(null)\n  }, [characterUrl])\n  \n\n  const {character, loadingCharacter, errorCharacter, handlerClickCharacter} = useCharacter(handleModalMemorized);\n\n  // const [character, setCharacter] = useState<null | Character>(null)\n  // const [loadingCharacter, setLoadingCharacter] = useState<boolean>(false)\n  // const [errorCharacter, setErrorCharacter] = useState<boolean>(false)\n\n\n  \n\n  // const handlerClickCharacter = (url: string) => {\n  //   return async() => {\n  //     setLoadingCharacter(true)\n  //     try {\n  //       const res = await IceandfireApi.getCharterInfo(url)\n  //       setCharacter(res)\n  //       handleModalMemorized(true)()\n  //     } catch (e) {\n  //       setErrorCharacter(true)\n  //     } finally {\n  //       setLoadingCharacter(false)\n  //     }\n  //   }\n  // }  \n  \n  return (\n    <div className=\"characters\">\n      <ListGroup>\n          {error && \"Error\"}\n          {loading && \"Loading\"}\n          {characters &&\n            !error &&\n            !loading &&\n            characters.map((el: Character) => (\n              <ListGroup.Item \n                  as=\"li\" \n                  key={el.url} \n                  onClick={handlerClickCharacter(el.url)}\n                >\n                  <span className=\"title\">{el.name || el.aliases}</span>\n                  <span className=\"prop\">Gender: {el.gender}</span>\n              </ListGroup.Item>\n            ))\n        }\n      </ListGroup>\n        {characters && !error && (\n          <ButtonGroup className=\"books-nav\" aria-label=\"Basic example\" >\n            <Button\n              variant=\"secondary\"\n              disabled={filter.page === 1}\n              onClick={handlerPage(\"left\")}\n            >\n              left\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={handlerPage(\"right\")}>\n              right\n            </Button>\n          </ButtonGroup>\n        )}\n        <CharterModal \n          character={character}\n          loading={loadingCharacter}\n          error={errorCharacter}\n          characterUrl={characterUrl} \n          modalIsVisible={modalIsVisible} \n          handleModal={handleModalMemorized} />\n        {/* <Modal show={modalIsVisible} onHide={handleModal(false)}>\n          <Modal.Header closeButton>\n            <Modal.Title>{character?.name}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {character && (\n                <>\n                  <span className=\"title\">Name:</span>{character?.name}\n                </>\n            )}\n\n            <span className=\"prop\">Gender:</span>{character?.gender}\n            <span className=\"prop\">Aliases:</span>{character?.aliases}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleModal(false)}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleModal(true)}>\n              Save Changes\n            </Button>\n          </Modal.Footer>\n        </Modal> */}\n    </div>\n  )\n}\nexport default CharactersF;"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,WAAhB,QAAiE,OAAjE;AAEA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,SAA9B,QAAsD,iBAAtD;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;;;AAIA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAM;IACJC,KADI;IACGC,OADH;IACYC,UADZ;IACwBC,MADxB;IACgCC;EADhC,IAEFR,WAAW,CAAC;IAACS,QAAQ,EAAE,CAAX;IAAcC,YAAY,EAAE;EAA5B,CAAD,CAFf;EAIA,MAAMC,oBAAoB,GAAGf,WAAW,CAAEgB,IAAD,IAAmB,MAAM;IAChEC,iBAAiB,CAACD,IAAD,CAAjB;IACA,IAAI,CAACA,IAAL,EAAWE,eAAe,CAAC,IAAD,CAAf;EACZ,CAHuC,EAGrC,CAACC,YAAD,CAHqC,CAAxC;EAMA,MAAM;IAACC,SAAD;IAAYC,gBAAZ;IAA8BC,cAA9B;IAA8CC;EAA9C,IAAuElB,YAAY,CAACU,oBAAD,CAAzF,CAXwB,CAaxB;EACA;EACA;EAKA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,wBACE,QAAC,SAAD;MAAA,WACKP,KAAK,IAAI,OADd,EAEKC,OAAO,IAAI,SAFhB,EAGKC,UAAU,IACT,CAACF,KADF,IAEC,CAACC,OAFF,IAGCC,UAAU,CAACc,GAAX,CAAgBC,EAAD,iBACb,QAAC,SAAD,CAAW,IAAX;QACI,EAAE,EAAC,IADP;QAGI,OAAO,EAAEF,qBAAqB,CAACE,EAAE,CAACC,GAAJ,CAHlC;QAAA,wBAKI;UAAM,SAAS,EAAC,OAAhB;UAAA,UAAyBD,EAAE,CAACE,IAAH,IAAWF,EAAE,CAACG;QAAvC;UAAA;UAAA;UAAA;QAAA,QALJ,eAMI;UAAM,SAAS,EAAC,MAAhB;UAAA,uBAAgCH,EAAE,CAACI,MAAnC;QAAA;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA,GAESJ,EAAE,CAACC,GAFZ;QAAA;QAAA;QAAA;MAAA,QADF,CANN;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAmBKhB,UAAU,IAAI,CAACF,KAAf,iBACC,QAAC,WAAD;MAAa,SAAS,EAAC,WAAvB;MAAmC,cAAW,eAA9C;MAAA,wBACE,QAAC,MAAD;QACE,OAAO,EAAC,WADV;QAEE,QAAQ,EAAEG,MAAM,CAACmB,IAAP,KAAgB,CAF5B;QAGE,OAAO,EAAElB,WAAW,CAAC,MAAD,CAHtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAQE,QAAC,MAAD;QACE,OAAO,EAAC,WADV;QAEE,OAAO,EAAEA,WAAW,CAAC,OAAD,CAFtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QApBN,eAmCI,QAAC,YAAD;MACE,SAAS,EAAEQ,SADb;MAEE,OAAO,EAAEC,gBAFX;MAGE,KAAK,EAAEC,cAHT;MAIE,YAAY,EAAEH,YAJhB;MAKE,cAAc,EAAEY,cALlB;MAME,WAAW,EAAEhB;IANf;MAAA;MAAA;MAAA;IAAA,QAnCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoED,CAvGD;;GAAMR,W;UAGAH,W,EAQyEC,Y;;;KAXzEE,W;AAwGN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}