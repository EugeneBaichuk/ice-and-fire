{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport useLoadingandError from \"./use-loading\";\n\nconst useCharters = _ref => {\n  _s();\n\n  let {\n    initPage,\n    initPageSize\n  } = _ref;\n  const {\n    value: characters,\n    loading,\n    error,\n    handlerClickCharacter\n  } = useLoadingandError();\n  const [filter, setFilter] = useState({\n    page: initPage,\n    pageSize: initPageSize\n  });\n\n  const getCharcters = async () => {\n    const value = initPage && initPageSize ? filter : undefined;\n    setLoading(true);\n\n    try {\n      const res = await setCharacters(res);\n    } catch (e) {\n      setError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlerPage = type => _e => {\n    if (!initPage && !initPageSize) return;\n\n    if (type === \"left\" && filter !== null && filter !== void 0 && filter.page && (filter === null || filter === void 0 ? void 0 : filter.page) > 1) {\n      setFilter({ ...filter,\n        page: (filter === null || filter === void 0 ? void 0 : filter.page) - 1\n      });\n    } else if (filter !== null && filter !== void 0 && filter.page) setFilter({ ...filter,\n      page: (filter === null || filter === void 0 ? void 0 : filter.page) + 1\n    });\n  };\n\n  useEffect(() => {\n    getCharcters();\n  }, [filter.page]);\n  return {\n    loading,\n    error,\n    characters,\n    filter,\n    handlerPage\n  };\n};\n\n_s(useCharters, \"fEfQjxnm98uEd1h0uiPMikrHuxY=\", false, function () {\n  return [useLoadingandError];\n});\n\nexport { useCharters };","map":{"version":3,"names":["useEffect","useState","useLoadingandError","useCharters","initPage","initPageSize","value","characters","loading","error","handlerClickCharacter","filter","setFilter","page","pageSize","getCharcters","undefined","setLoading","res","setCharacters","e","setError","handlerPage","type","_e"],"sources":["C:/Users/Виктория/Desktop/Женя Work/ice-and-fire-hooks/src/characters/charters.hooks.tsx"],"sourcesContent":["import React, {FC, useEffect, useState} from \"react\";\nimport IceandfireApi from \"../services/iceandfire\";\nimport { Character } from \"../types/type\";\nimport useLoadingandError from \"./use-loading\";\n\ntype TFilter = {\n    page?: number;\n    pageSize?: number;\n  }\n\nconst useCharters = ({initPage, initPageSize}: {initPage?: number, initPageSize?: number}) => {\n\n    const {value: characters, loading, error, handlerClickCharacter} = useLoadingandError();\n    \n    const [filter, setFilter] = useState<TFilter>({\n        page: initPage,\n        pageSize: initPageSize,\n    })\n\n    \n\n    const getCharcters = async () => {\n        const value = initPage && initPageSize ? filter : undefined\n        setLoading(true)\n        try {\n          const res = await \n          setCharacters(res)\n        } catch (e: any) {\n          setError(true)\n        } finally {\n          setLoading(false)\n        }\n    }\n\n\n\n    const handlerPage = (type: \"left\" | \"right\") => (_e: any) => {\n        if (!initPage && !initPageSize) return;\n        if (type === \"left\" && filter?.page && filter?.page > 1) {\n          setFilter({ ...filter, page: filter?.page - 1 });\n        } else if (filter?.page) setFilter({ ...filter, page: filter?.page + 1 });\n      };\n\n    useEffect(() => {\n        getCharcters()\n    }, [filter.page])\n\n    return {loading, error, characters, filter, handlerPage}\n}\nexport {useCharters};"],"mappings":";;AAAA,SAAmBA,SAAnB,EAA8BC,QAA9B,QAA6C,OAA7C;AAGA,OAAOC,kBAAP,MAA+B,eAA/B;;AAOA,MAAMC,WAAW,GAAG,QAA0E;EAAA;;EAAA,IAAzE;IAACC,QAAD;IAAWC;EAAX,CAAyE;EAE1F,MAAM;IAACC,KAAK,EAAEC,UAAR;IAAoBC,OAApB;IAA6BC,KAA7B;IAAoCC;EAApC,IAA6DR,kBAAkB,EAArF;EAEA,MAAM,CAACS,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAU;IAC1CY,IAAI,EAAET,QADoC;IAE1CU,QAAQ,EAAET;EAFgC,CAAV,CAApC;;EAOA,MAAMU,YAAY,GAAG,YAAY;IAC7B,MAAMT,KAAK,GAAGF,QAAQ,IAAIC,YAAZ,GAA2BM,MAA3B,GAAoCK,SAAlD;IACAC,UAAU,CAAC,IAAD,CAAV;;IACA,IAAI;MACF,MAAMC,GAAG,GAAG,MACZC,aAAa,CAACD,GAAD,CADb;IAED,CAHD,CAGE,OAAOE,CAAP,EAAe;MACfC,QAAQ,CAAC,IAAD,CAAR;IACD,CALD,SAKU;MACRJ,UAAU,CAAC,KAAD,CAAV;IACD;EACJ,CAXD;;EAeA,MAAMK,WAAW,GAAIC,IAAD,IAA6BC,EAAD,IAAa;IACzD,IAAI,CAACpB,QAAD,IAAa,CAACC,YAAlB,EAAgC;;IAChC,IAAIkB,IAAI,KAAK,MAAT,IAAmBZ,MAAnB,aAAmBA,MAAnB,eAAmBA,MAAM,CAAEE,IAA3B,IAAmC,CAAAF,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEE,IAAR,IAAe,CAAtD,EAAyD;MACvDD,SAAS,CAAC,EAAE,GAAGD,MAAL;QAAaE,IAAI,EAAE,CAAAF,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEE,IAAR,IAAe;MAAlC,CAAD,CAAT;IACD,CAFD,MAEO,IAAIF,MAAJ,aAAIA,MAAJ,eAAIA,MAAM,CAAEE,IAAZ,EAAkBD,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAaE,IAAI,EAAE,CAAAF,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEE,IAAR,IAAe;IAAlC,CAAD,CAAT;EAC1B,CALH;;EAOAb,SAAS,CAAC,MAAM;IACZe,YAAY;EACf,CAFQ,EAEN,CAACJ,MAAM,CAACE,IAAR,CAFM,CAAT;EAIA,OAAO;IAACL,OAAD;IAAUC,KAAV;IAAiBF,UAAjB;IAA6BI,MAA7B;IAAqCW;EAArC,CAAP;AACH,CAtCD;;GAAMnB,W;UAEiED,kB;;;AAqCvE,SAAQC,WAAR"},"metadata":{},"sourceType":"module"}